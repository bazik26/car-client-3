<!-- Hero Section -->
<section class="hero" id="hero">
  <div class="container">
    <div class="hero__content">
      <div class="hero__badge">
        <i class="fas fa-rocket"></i>
        <span>–ü—Ä–µ–º–∏—É–º –∞–≤—Ç–æ–ø–æ–¥–±–æ—Ä –∏–∑ –ï–≤—Ä–æ–ø—ã</span>
      </div>
      
      <h1 class="hero__title">
        <span class="hero__title-main">–ù–∞–π–¥–µ–º –≤–∞—à—É</span>
        <span class="hero__title-accent">–∏–¥–µ–∞–ª—å–Ω—É—é –º–∞—à–∏–Ω—É</span>
        <span class="hero__title-sub">–∑–∞ 14 –¥–Ω–µ–π</span>
      </h1>
      
      <p class="hero__description">
        –≠–∫—Å–∫–ª—é–∑–∏–≤–Ω—ã–π –ø–æ–¥–±–æ—Ä –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π –∏–∑ –ì–µ—Ä–º–∞–Ω–∏–∏, –§—Ä–∞–Ω—Ü–∏–∏ –∏ –ò—Ç–∞–ª–∏–∏. 
        –ü–æ–ª–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∏—Å—Ç–æ—Ä–∏–∏, —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∏–Ω—Å–ø–µ–∫—Ü–∏—è –∏ –≥–∞—Ä–∞–Ω—Ç–∏—è –∫–∞—á–µ—Å—Ç–≤–∞. 
        <strong>–≠–∫–æ–Ω–æ–º–∏—è –¥–æ 30%</strong> –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å —Ä–æ—Å—Å–∏–π—Å–∫–∏–º —Ä—ã–Ω–∫–æ–º.
      </p>
      
      <div class="hero__actions">
        <a class="btn btn--primary" routerLink="/catalog">
          <i class="fas fa-search"></i>
          –ù–∞–π—Ç–∏ –∞–≤—Ç–æ –º–µ—á—Ç—ã
        </a>
        <button class="btn btn--secondary" type="button" (click)="selectFilter(showcaseFilters[0])">
          <i class="fas fa-calculator"></i>
          –†–∞—Å—Å—á–∏—Ç–∞—Ç—å —Å—Ç–æ–∏–º–æ—Å—Ç—å
        </button>
      </div>
      
      <div class="hero__stats">
        <div class="stat-card">
          <div class="stat-number">500+</div>
          <div class="stat-label">–ê–≤—Ç–æ –¥–æ—Å—Ç–∞–≤–ª–µ–Ω–æ</div>
          <div class="stat-detail">–≤ 2024 –≥–æ–¥—É</div>
        </div>
        <div class="stat-card">
          <div class="stat-number">14</div>
          <div class="stat-label">–¥–Ω–µ–π</div>
          <div class="stat-detail">—Å—Ä–µ–¥–Ω–∏–π —Å—Ä–æ–∫ –¥–æ—Å—Ç–∞–≤–∫–∏</div>
        </div>
        <div class="stat-card">
          <div class="stat-number">99%</div>
          <div class="stat-label">–¥–æ–≤–æ–ª—å–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤</div>
          <div class="stat-detail">–≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è –∫ –Ω–∞–º</div>
        </div>
      </div>
    </div>
    
    <div class="hero__visual">
      <div class="hero__car-showcase">
        <div class="car-3d">
          <div class="car-body"></div>
          <div class="car-wheels">
            <div class="wheel front-left"></div>
            <div class="wheel front-right"></div>
            <div class="wheel rear-left"></div>
            <div class="wheel rear-right"></div>
          </div>
          <div class="car-lights">
            <div class="headlight left"></div>
            <div class="headlight right"></div>
          </div>
        </div>
        <div class="scan-lines">
          <div class="scan-line"></div>
          <div class="scan-line"></div>
          <div class="scan-line"></div>
        </div>
      </div>
      
      <div class="hero__features">
        <div class="feature-card">
          <div class="feature-icon">
            <i class="fas fa-shield-alt"></i>
          </div>
          <div class="feature-content">
            <h4>–ü–æ–ª–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞</h4>
            <p>118 –∫—Ä–∏—Ç–µ—Ä–∏–µ–≤ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ –±–∞–∑–∞–º –ï–°</p>
          </div>
        </div>
        <div class="feature-card">
          <div class="feature-icon">
            <i class="fas fa-euro-sign"></i>
          </div>
          <div class="feature-content">
            <h4>–≠–∫–æ–Ω–æ–º–∏—è –¥–æ 30%</h4>
            <p>–ü—Ä—è–º—ã–µ –ø–æ—Å—Ç–∞–≤–∫–∏ –±–µ–∑ –ø–µ—Ä–µ–ø–ª–∞—Ç</p>
          </div>
        </div>
        <div class="feature-card">
          <div class="feature-icon">
            <i class="fas fa-clock"></i>
          </div>
          <div class="feature-content">
            <h4>–ë—ã—Å—Ç—Ä–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞</h4>
            <p>–û—Ç 7 –¥–æ 14 –¥–Ω–µ–π –¥–æ –ú–æ—Å–∫–≤—ã</p>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Best Offer Section -->
<section class="best-offer" *ngIf="bestOffer() || !isLoading()">
  <div class="container">
    <div class="best-offer__content">
      <div class="best-offer__badge">
        <i class="fas fa-star"></i>
        <span>–õ—É—á—à–µ–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –Ω–µ–¥–µ–ª–∏</span>
      </div>
      
      <div *ngIf="bestOffer(); else fallbackOffer">
        <h2 class="best-offer__title">
          üöó {{ bestOffer()?.brand }} {{ bestOffer()?.model }} {{ bestOffer()?.year }} ‚Ä¢ {{ formatPrice(bestOffer()?.price) }}
        </h2>
        <p class="best-offer__description">{{ getCarFeatures(bestOffer()) }}</p>
        <div class="best-offer__actions">
          <button class="btn btn--primary" routerLink="/catalog">
            <i class="fas fa-search"></i>
            –°–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ –∞–≤—Ç–æ
          </button>
          <button class="btn btn--secondary" [routerLink]="['/car', bestOffer()?.id]">
            <i class="fas fa-eye"></i>
            –ü–æ–¥—Ä–æ–±–Ω–µ–µ
          </button>
        </div>
      </div>
      
      <ng-template #fallbackOffer>
        <div *ngIf="fallbackCar(); else staticFallback">
          <h2 class="best-offer__title">
            üöó {{ fallbackCar()?.brand }} {{ fallbackCar()?.model }} {{ fallbackCar()?.year }} ‚Ä¢ {{ formatPrice(fallbackCar()?.price) }}
          </h2>
          <p class="best-offer__description">{{ getCarFeatures(fallbackCar()) }}</p>
          <div class="best-offer__actions">
            <button class="btn btn--primary" routerLink="/catalog">
              <i class="fas fa-search"></i>
              –°–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ –∞–≤—Ç–æ
            </button>
            <button class="btn btn--secondary" routerLink="/catalog">
              <i class="fas fa-phone"></i>
              –ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è
            </button>
          </div>
        </div>
        
        <ng-template #staticFallback>
          <h2 class="best-offer__title">üöó BMW X5 2023 ‚Ä¢ 2.5M ‚ÇΩ</h2>
          <p class="best-offer__description">–ü–æ–ª–Ω—ã–π –ø—Ä–∏–≤–æ–¥ ‚Ä¢ 45,000 –∫–º ‚Ä¢ –í –Ω–∞–ª–∏—á–∏–∏ –≤ –ú–æ—Å–∫–≤–µ</p>
          <div class="best-offer__actions">
            <button class="btn btn--primary" routerLink="/catalog">
              <i class="fas fa-search"></i>
              –°–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ –∞–≤—Ç–æ
            </button>
            <button class="btn btn--secondary" routerLink="/catalog">
              <i class="fas fa-phone"></i>
              –ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è
            </button>
          </div>
        </ng-template>
      </ng-template>
    </div>
  </div>
</section>

<!-- Showcase Section -->
<section class="showcase" id="collections">
  <div class="container">
    <div class="showcase__header">
      <div class="showcase__title-section">
        <h2 class="showcase__title">–ü–æ–¥–±–æ—Ä–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ –º—ã —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º</h2>
        <p class="showcase__subtitle">
          –í—ã–±–µ—Ä–∏—Ç–µ —Å—Ü–µ–Ω–∞—Ä–∏–π ‚Äî –º—ã –ø–æ–¥—Å–≤–µ—Ç–∏–º –∞–≤—Ç–æ–º–æ–±–∏–ª–∏, –ø–æ–¥—Ö–æ–¥—è—â–∏–µ –ø–æ–¥ –≤–∞—à–∏ –∑–∞–¥–∞—á–∏.
          –ü–æ–¥–±–æ—Ä —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏.
        </p>
      </div>
      <a class="btn btn--secondary" routerLink="/catalog">–û—Ç–∫—Ä—ã—Ç—å –≤–µ—Å—å –∫–∞—Ç–∞–ª–æ–≥</a>
    </div>

    <div class="showcase__filters">
      <button
        *ngFor="let filter of showcaseFilters; let i = index"
        type="button"
        class="filter-chip"
        [class.active]="selectedFilter()?.id === filter.id"
        (click)="selectFilter(filter)">
        <span class="filter-chip__title">{{ filter.title }}</span>
        <small class="filter-chip__subtitle">{{ filter.subtitle }}</small>
      </button>
    </div>

    <div class="showcase__cars" *ngIf="!isLoading() && filteredCars().length > 0; else loadingOrEmpty">
      <app-car-card 
        *ngFor="let car of filteredCars(); let i = index"
        [car]="car"
        class="car-card-wrapper"></app-car-card>
    </div>
    
    <ng-template #loadingOrEmpty>
      <div class="loading" *ngIf="isLoading(); else emptyState">
        <div class="skeleton" *ngFor="let _ of [].constructor(6); let i = index"></div>
      </div>
      <ng-template #emptyState>
        <div class="empty-state">
          <div class="empty-state__content">
            <i class="fas fa-car"></i>
            <h3>–ê–≤—Ç–æ–º–æ–±–∏–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã</h3>
            <p>–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã –∏–ª–∏ –∑–∞–≥—Ä—É–∑–∏—Ç—å –∫–∞—Ç–∞–ª–æ–≥ –∑–∞–Ω–æ–≤–æ</p>
            <button class="btn btn--primary" (click)="selectFilter(showcaseFilters[0])">
              <i class="fas fa-refresh"></i>
              –û–±–Ω–æ–≤–∏—Ç—å
            </button>
          </div>
        </div>
      </ng-template>
    </ng-template>
  </div>
</section>

<!-- Why Us Section -->
<section class="why-us" id="why-us">
  <div class="container">
    <div class="why-us__grid">
      <div class="why-us__content">
        <h3 class="why-us__title">–ü–æ—á–µ–º—É –∫–ª–∏–µ–Ω—Ç—ã –¥–æ–≤–µ—Ä—è—é—Ç Prime Auto</h3>
        <p class="why-us__description">
          –ú—ã —Å–æ–µ–¥–∏–Ω—è–µ–º –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π –ø–æ–¥—Ö–æ–¥ –∫ –ø–æ–∫—É–ø–∫–µ –∞–≤—Ç–æ –∏ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ü–∏—Ñ—Ä–æ–≤—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã, 
          —á—Ç–æ–±—ã —Å–¥–µ–ª–∞—Ç—å –ø—É—Ç—å –∫ –Ω–æ–≤–æ–π –º–∞—à–∏–Ω–µ –ø–æ–Ω—è—Ç–Ω—ã–º –∏ –±–µ–∑–æ–ø–∞—Å–Ω—ã–º.
        </p>
        <ul class="why-us__features">
          <li class="feature-item">
            <div class="feature-item__icon">
              <i class="fas fa-shield-alt"></i>
            </div>
            <div class="feature-item__content">
              <h4>–§–∏–Ω–∞–Ω—Å–æ–≤–∞—è –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å</h4>
              <p>–§–∏–∫—Å–∏—Ä—É–µ–º —Å—Ç–æ–∏–º–æ—Å—Ç—å –≤ –¥–æ–≥–æ–≤–æ—Ä–µ, –≤—Å–µ –ø–ª–∞—Ç–µ–∂–∏ –ø—Ä–æ—Ö–æ–¥—è—Ç –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ.</p>
            </div>
          </li>
          <li class="feature-item">
            <div class="feature-item__icon">
              <i class="fas fa-tools"></i>
            </div>
            <div class="feature-item__content">
              <h4>–≠–∫—Å–ø–µ—Ä—Ç–Ω–∞—è –∏–Ω—Å–ø–µ–∫—Ü–∏—è</h4>
              <p>–ò–Ω–∂–µ–Ω–µ—Ä—ã —Å –æ–ø—ã—Ç–æ–º —Ä–∞–±–æ—Ç—ã –≤ –¥–∏–ª–µ—Ä—Å–∫–∏—Ö —Ü–µ–Ω—Ç—Ä–∞—Ö —Å–æ—Å—Ç–∞–≤–ª—è—é—Ç —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –∑–∞–∫–ª—é—á–µ–Ω–∏–µ.</p>
            </div>
          </li>
          <li class="feature-item">
            <div class="feature-item__icon">
              <i class="fas fa-headset"></i>
            </div>
            <div class="feature-item__content">
              <h4>–õ—é–¥–∏ –∏ —Å–µ—Ä–≤–∏—Å</h4>
              <p>–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä –Ω–∞ —Å–≤—è–∑–∏ 24/7, –ø–æ–º–æ—â—å —Å trade-in –∏ –∫—Ä–µ–¥–∏—Ç–æ–º –ø–∞—Ä—Ç–Ω—ë—Ä–æ–≤.</p>
            </div>
          </li>
        </ul>
      </div>
      
      <div class="why-us__visual">
        <div class="why-us__image">
          <img ngSrc="/assets/hero/team.svg" alt="–ö–æ–º–∞–Ω–¥–∞ Prime Auto" width="540" height="320">
        </div>
        <div class="why-us__stat">
          <div class="stat-number">+17%</div>
          <p>–ê–≤—Ç–æ —Å –≥–∞—Ä–∞–Ω—Ç–∏–µ–π –æ—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—è –±–ª–∞–≥–æ–¥–∞—Ä—è —Ä–∞–±–æ—Ç–µ —Å –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–º–∏ –ø–∞—Ä—Ç–Ω—ë—Ä–∞–º–∏.</p>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Popular Cars Section -->
<section class="popular">
  <div class="container">
    <div class="popular__header">
      <h2 class="popular__title">–ñ–∏–≤–æ–π –∫–∞—Ç–∞–ª–æ–≥</h2>
      <p class="popular__subtitle">
        –ê–ª–≥–æ—Ä–∏—Ç–º —Å–æ–±–∏—Ä–∞–µ—Ç –∞–≤—Ç–æ–º–æ–±–∏–ª–∏ –∏–∑ –±–∞–∑—ã, –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∞–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç—å –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Ç–æ,
        —á—Ç–æ –¥–æ—Å—Ç—É–ø–Ω–æ –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å.
      </p>
    </div>
    
    <div class="popular__cars">
      <app-car-card 
        *ngFor="let car of popular(); let i = index"
        [car]="car"
        class="car-card-wrapper"></app-car-card>
    </div>
  </div>
</section>

<!-- Stories Section -->
<section class="stories" *ngIf="soldRecently().length">
  <div class="container">
    <div class="stories__grid">
      <div class="stories__intro">
        <h3 class="stories__title">–°–≤–µ–∂–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ –∫–ª–∏–µ–Ω—Ç–æ–≤</h3>
        <p class="stories__description">
          –ö–æ—Ä–æ—Ç–∫–∏–µ –∑–∞–º–µ—Ç–∫–∏ –æ —Ç–æ–º, –∫–∞–∫ –ø—Ä–æ—Ö–æ–¥–∏—Ç –ø—É—Ç—å –æ—Ç –∑–∞–ø—Ä–æ—Å–∞ –¥–æ –≤—ã–¥–∞—á–∏ –∫–ª—é—á–µ–π. 
          –ö–∞–∂–¥–∞—è –∏—Å—Ç–æ—Ä–∏—è ‚Äî –∂–∏–≤–æ–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–∞.
        </p>
        <a class="btn btn--primary" routerLink="/contacts">–ü–æ–ª—É—á–∏—Ç—å –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—é</a>
      </div>
      
      <div class="stories__list">
        <article class="story-card" *ngFor="let car of soldRecently(); let i = index">
          <div class="story-card__header">
            <span class="story-card__car">{{ car.brand }} {{ car.model }}</span>
            <small class="story-card__year">{{ car.year }}</small>
          </div>
          <p class="story-card__text">
            –î–æ—Å—Ç–∞–≤–∏–ª–∏ –∑–∞ {{ 12 + (car.id % 7) }} –¥–Ω–µ–π. –ö–ª–∏–µ–Ω—Ç –ø–æ–ª—É—á–∏–ª –≤—ã–≥–æ–¥—É {{ (car.price * 0.07) | number:'1.0-0' }} ‚ÇΩ
            –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å —Ä—ã–Ω–∫–æ–º –†–§.
          </p>
        </article>
      </div>
    </div>
  </div>
</section>

<!-- CTA Section -->
<section class="cta" id="contact-form">
  <div class="container">
    <div class="cta__content">
      <h2 class="cta__title">–†–∞—Å—Å–∫–∞–∂–∏—Ç–µ –æ –≤–∞—à–µ–º –∞–≤—Ç–æ–º–æ–±–∏–ª–µ –º–µ—á—Ç—ã</h2>
      <p class="cta__description">
        –£–∫–∞–∂–∏—Ç–µ —Ç—Ä–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ ‚Äî –∏ –≤ —Ç–µ—á–µ–Ω–∏–µ —Å—É—Ç–æ–∫ –º—ã –ø–æ–¥–≥–æ—Ç–æ–≤–∏–º –ø—Ä–æ–∑—Ä–∞—á–Ω—ã–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è 
        —Å —Ä–∞—Å—á—ë—Ç–æ–º –ø–æ—à–ª–∏–Ω –∏ –¥–æ—Å—Ç–∞–≤–∫–∏.
      </p>
      <a class="btn btn--primary btn--large" routerLink="/contacts">
        <i class="fas fa-paper-plane"></i>
        –û—Å—Ç–∞–≤–∏—Ç—å –∑–∞—è–≤–∫—É
      </a>
    </div>
  </div>
</section>