<header class="header" [class.header--compact]="isCompactHeader">
  <div class="container header__inner">
    <a class="brand" routerLink="/home" (click)="closeMobileNav()">
      <span class="brand__logo">AZ</span>
      <div class="brand__titles">
        <span class="brand__name">{{ brand.shortName }}</span>
        <span class="brand__tag">Авто с европейской историей</span>
      </div>
    </a>

    <nav class="desktop-nav">
      <a routerLink="/home" routerLinkActive="active">Главная</a>
      <button type="button" (click)="navigate('why-us')">Преимущества</button>
      <button type="button" (click)="navigate('collections')">Подборки</button>
      <a routerLink="/catalog" routerLinkActive="active">Каталог</a>
      <a routerLink="/contacts" routerLinkActive="active">Контакты</a>
    </nav>

    <div class="header__actions">
      <button class="btn-ghost" type="button" (click)="navigate('contact-form')">
        <span>Получить подбор</span>
      </button>
      <button class="burger" type="button" (click)="toggleMobileNav()">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
  </div>

  <div class="mobile-nav" [class.mobile-nav--open]="mobileNav">
    <div class="mobile-nav__panel glass-card">
      <button class="mobile-nav__close" type="button" (click)="toggleMobileNav()">
        <span></span>
        <span></span>
      </button>

      <div class="mobile-nav__links">
        <a routerLink="/home" routerLinkActive="active" (click)="closeMobileNav()">Главная</a>
        <button type="button" (click)="navigate('why-us')">Почему мы</button>
        <button type="button" (click)="navigate('collections')">Подборки</button>
        <button type="button" (click)="navigateToPage('/catalog')">Каталог</button>
        <button type="button" (click)="navigateToPage('/contacts')">Контакты</button>
      </div>

      <div class="mobile-nav__footer">
        <button class="btn-primary" type="button" (click)="navigate('contact-form'); closeMobileNav()">
          Получить подбор
        </button>
        @if (brand.phone || brand.email) {
          <div class="mobile-nav__contacts">
            @if (brand.phone) {
              <a [href]="brand.phoneLink" (click)="closeMobileNav()">{{ brand.phone }}</a>
            }
            @if (brand.email) {
              <a [href]="'mailto:' + brand.email" (click)="closeMobileNav()">{{ brand.email }}</a>
            }
          </div>
        }
      </div>
    </div>
  </div>
</header>

<main class="main">
  <router-outlet></router-outlet>
</main>

<footer class="footer">
  <div class="container footer__inner">
    <div class="footer__brand">
      <div class="footer__logo-wrapper">
        <span class="brand__logo brand__logo--large">AZ</span>
      </div>
      <div class="footer__brand-info">
        <p class="footer__title">{{ brand.name }}</p>
        <p class="footer__subtitle">{{ brand.shortName }}</p>
        <p class="footer__text">Европейские автомобили с гарантией прозрачности сделки</p>
        <div class="footer__legal">
          <span>ИНН: {{ brand.inn }}</span>
        </div>
      </div>
    </div>
    
    <div class="footer__meta">
      @if (brand.phone || brand.email) {
        <div class="footer__section">
          <h4>Контакты</h4>
          @if (brand.phone) {
            <a [href]="brand.phoneLink">{{ brand.phone }}</a>
          }
          @if (brand.email) {
            <a [href]="'mailto:' + brand.email">{{ brand.email }}</a>
          }
        </div>
      }
      
      <div class="footer__section">
        <h4>Адрес</h4>
        <p>{{ brand.address }}</p>
      </div>
      
      <div class="footer__section">
        <h4>Навигация</h4>
        <a routerLink="/home">Главная</a>
        <a routerLink="/catalog">Каталог</a>
        <a routerLink="/contacts">Контакты</a>
      </div>
    </div>
  </div>
  
  <div class="footer__bottom">
    <div class="container">
      <div class="footer__copyright">
        <span>© {{ currentYear }} {{ brand.name }}. Все права защищены.</span>
      </div>
    </div>
  </div>
</footer>

<!-- Chat Widget - временно отключен -->
<!-- <app-chat-widget></app-chat-widget> -->
